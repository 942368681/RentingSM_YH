<!DOCTYPE html>
<html>
	<head>
		<meta name="viewport" content="width=device-width, minimum-scale=1, maximum-scale=1">
		<meta charset="UTF-8">
		<title>报价</title>
		<link rel="stylesheet" href="../../css/iuapmobile.um.css">
		<link rel="stylesheet" href="../../css/mint.css">
		<link rel="stylesheet" href="../../css/fonts/iconfont.css">
		<link rel="stylesheet" href="./quotedPrice.min.css">
		<script src="../../js/summer.js" ></script>
		<script src="../../js/jquery.min.js" ></script>
		<script src="../../js/font.js" ></script>
		<script src="../../js/vue.js" ></script>
		<script src="../../js/mint.js" ></script>
		<script src="../../js/common.js" ></script>
		<script src="../../js/Frameworks/iuapmobile.frameworks.ui.js" ></script>
	</head>
	<body>
		<div class="um-win" id="quotedPriceDetail" v-cloak>
			<div class="um-content quotedPriceDetail">
				<ul>
					<li @click="pickerFlag('schemeType')">
						<b>商务类型</b>
						<span>
							<b v-if="SCHEME_TYPE">{{SCHEME_TYPE}}</b>
							<b v-else class="default">请选择</b>
							<i class="icon iconfont icon-enter"></i>
						</span>
					</li>
					<li @click="pickerFlag('schemeName')">
						<b>商务政策</b>
						<span>
							<b v-if="SCHEME_NAME">{{SCHEME_NAME}}</b>
							<b v-else class="default">请选择</b>
							<i class="icon iconfont icon-enter"></i>
						</span>
					</li>
          <li v-if='lease_term_status'>
						<b>租赁期数</b>
						<span>
							<b v-if="lease_term_edit=='1'">{{LEASE_TERM}}</b>
							<input v-else type="text" @blur="checkVal('lease_term')" placeholder="租赁期数" name="lease_term" v-model="LEASE_TERM">
						</span>
					</li>
					<li v-if='lease_course_status' @click="pickerFlag('leaseCourse')">
						<b>租赁周期</b>
						<span>
							<b v-if="LEASE_COURSE">{{LEASE_COURSE}}</b>
              <b v-else class="default">请选择</b>
							<i class="icon iconfont icon-enter"></i>
						</span>
					</li>
          <li>
            <b>租赁年限</b>
            <span>
              <b>{{YEAR_LIMIT}}</b>年
            </span>
          </li>
          <template v-if="llpz_status">
            <li v-if='llpz_edit=="1"'>
  						<b>利率配置</b>
  						<span>
  							<b>{{LLPZ}}</b>
  						</span>
  					</li>
            <li v-else @click="pickerFlag('llpz')">
  						<b>利率配置</b>
  						<span>
  							<b v-if="LLPZ">{{LLPZ}}</b>
                <b v-else class="default">请选择</b>
  							<i class="icon iconfont icon-enter"></i>
  						</span>
  					</li>
          </template>
          <li>
            <b>利率</b>
            <span>
							<input type="text" @blur="checkVal('yearRate')" placeholder="利率" name="YEAR_INTEREST" v-model="YEAR_INTEREST">&nbsp;元
            </span>
          </li>
          <li v-if='pay_way_status' @click="pickerFlag('payWay')">
						<b>支付方式</b>
						<span>
							<b v-if="PAY_WAY">{{PAY_WAY}}</b>
              <b v-else class="default">请选择</b>
							<i class="icon iconfont icon-enter"></i>
						</span>
					</li>
          <li @click="pickerFlag('tx')">
            <b>贴息</b>
            <span>
              <b v-if="TX">{{TX}}</b>
              <b v-else class="default">请选择</b>
              <i class="icon iconfont icon-enter"></i>
            </span>
          </li>
          <li v-if="TX != '无'">
            <b>贴息金额</b>
            <span>
              <b v-if="tx_m_edit=='1'">{{TX_M}}</b>
							<input v-else type="text" @blur="checkVal('tx_m')" placeholder="贴息金额" name="tx_m" v-model="TX_M">&nbsp;元
            </span>
          </li>
          <li v-if="fxyzb_status" @click="pickerFlag('sfxyzb')">
            <b>牌照指标</b>
            <span>
              <b v-if="SFXYZB">{{SFXYZB}}</b>
              <b v-else class="default">请选择</b>
              <i class="icon iconfont icon-enter"></i>
            </span>
          </li>
          <template v-if="rpzsf_status">
            <li v-if='rpzsf_edit=="1"'>
              <b>融牌照收费</b>
              <span>
                <b>{{RPZSF}}</b>
              </span>
            </li>
            <li v-else @click="pickerFlag('rpzsf')">
              <b>融牌照收费</b>
              <span>
                <b v-if="RPZSF">{{RPZSF}}</b>
                <b v-else class="default">请选择</b>
                <i class="icon iconfont icon-enter"></i>
              </span>
            </li>
          </template>
          <li @click="pickerFlag('bxnx')">
            <b>保险年限</b>
            <span>
              <b v-if="BXNX">{{BXNX}}</b>
              <b v-else class="default">请选择</b>
              <i class="icon iconfont icon-enter"></i>
            </span>
          </li>
          <li @click="pickerFlag('ccsnx')">
            <b>车船税年限</b>
            <span>
              <b v-if="CCSNX">{{CCSNX}}</b>
              <b v-else class="default">请选择</b>
              <i class="icon iconfont icon-enter"></i>
            </span>
          </li>
          <template v-if="fkgz_status">
            <li v-if='fkgz_edit=="1"'>
  						<b>放款方式</b>
  						<span>
  							<b>{{FKGZ}}</b>
  						</span>
  					</li>
            <li v-else @click="pickerFlag('fkgz')">
  						<b>放款方式</b>
  						<span>
  							<b v-if="FKGZ">{{FKGZ}}</b>
                <b v-else class="default">请选择</b>
  							<i class="icon iconfont icon-enter"></i>
  						</span>
  					</li>
          </template>
          <li v-if="tqgh_status" @click="pickerFlag('tqgh')">
            <b>提前过户</b>
            <span>
              <b v-if="TQGH">{{TQGH}}</b>
              <b v-else class="default">请选择</b>
              <i class="icon iconfont icon-enter"></i>
            </span>
          </li>
          <li  v-if="TQGH !='否'">
            <b>过户期数</b>
            <span>
              <b v-if='ghtime_edit=="1"'>{{GHTIME}}</b>
              <input v-else type="text" @blur="checkVal('ghtime')" placeholder="过户期数" name="ghtime" v-model="GHTIME">
            </span>
          </li>
          <template v-if="qmclfs_status">
            <li v-if='qmclfs_edit=="1"'>
  						<b>期满处理方式</b>
  						<span>
  							<b>{{QMCLFS}}</b>
  						</span>
  					</li>
            <li v-else @click="pickerFlag('qmclfs')">
  						<b>期满处理方式</b>
  						<span>
  							<b v-if="QMCLFS">{{QMCLFS}}</b>
                <b v-else class="default">请选择</b>
  							<i class="icon iconfont icon-enter"></i>
  						</span>
  					</li>
          </template>
          <template v-if="gpsaz_status">
            <li v-if='gpsaz_edit=="1"'>
  						<b>GPS安装</b>
  						<span>
  							<b>{{GPSAZ}}</b>
  						</span>
  					</li>
            <li v-else @click="pickerFlag('gpsaz')">
  						<b>GPS安装</b>
  						<span>
  							<b v-if="GPSAZ">{{GPSAZ}}</b>
                <b v-else class="default">请选择</b>
  							<i class="icon iconfont icon-enter"></i>
  						</span>
  					</li>
          </template>
          <li  @click="pickerFlag('sflys')">
  						<b>是否留钥匙</b>
  						<span>
  							<b v-if="SFLYS">{{SFLYS}}</b>
                <b v-else class="default">请选择</b>
  							<i class="icon iconfont icon-enter"></i>
  						</span>
  				</li>
          <li>
              <b>实际成交价</b>
              <span><b>{{EQU_MONEY_ALL}}</b>&nbsp;元</span>
          </li>
          <li v-if="first_pay_edit=='1'">
              <b>首付款</b>
              <span>
                <b>{{HIRE_PERCENT}}&nbsp;% &nbsp;&nbsp;&nbsp;{{HEAD_HIRE}}&nbsp;元</b>
              </span>
          </li>
          <li v-else @click="sureFristPay">
              <b>首付款</b>
              <span>
                <b v-if="HIRE_PERCENT">{{HIRE_PERCENT}}&nbsp;% &nbsp;&nbsp;&nbsp;{{HEAD_HIRE}}&nbsp;元</b>
                <b v-else class="default">请选择</b>
  							<i class="icon iconfont icon-enter"></i>
              </span>
          </li>
          <li>
            <b>融资额</b>
            <span>
              <b>{{TOPRIC_SUBFIRENT}}&nbsp;元</b>
            </span>
          </li>
          <li v-if="bail_money_edit=='1'">
              <b>保证金</b>
              <span>
                <b>{{BAIL_PERCENT}}&nbsp;% &nbsp;&nbsp;&nbsp;{{LEASE_BAIL}}&nbsp;元</b>
              </span>
          </li>
          <li v-else @click="sureBailMoney">
              <b>保证金</b>
              <span>
                <b v-if="BAIL_PERCENT">{{BAIL_PERCENT}}&nbsp;% &nbsp;&nbsp;&nbsp;{{LEASE_BAIL}}&nbsp;元</b>
                <b v-else class="default">请选择</b>
  							<i class="icon iconfont icon-enter"></i>
              </span>
          </li>
          <template v-if="bzjclfs_status">
            <li v-if='bzjclfs_edit=="1"'>
              <b>保证金处理方式</b>
              <span>
                <b>{{BZJCLFS}}</b>
              </span>
            </li>
            <li v-else @click="pickerFlag('bzjclfs')">
              <b>保证金处理方式</b>
              <span>
                <b v-if="BZJCLFS">{{BZJCLFS}}</b>
                <b v-else class="default">请选择</b>
                <i class="icon iconfont icon-enter"></i>
              </span>
            </li>
          </template>
          <li @click="sureSxMoney">
              <b>手续费</b>
              <span>
                <b v-if="SXF_RATE">{{SXF_RATE}}&nbsp;% &nbsp;&nbsp;&nbsp;{{SXF}}&nbsp;元</b>
                <b v-else class="default">请选择</b>
  							<i class="icon iconfont icon-enter"></i>
              </span>
          </li>
          <li v-if="final_money_edit=='1'">
              <b>尾款</b>
              <span>
                <b>{{FINAL_RATE}}&nbsp;% &nbsp;&nbsp;&nbsp;{{FINAL_FEE}}&nbsp;元</b>
              </span>
          </li>
          <li v-else @click="sureFinalPay">
              <b>尾款</b>
              <span>
                <b v-if="FINAL_RATE">{{FINAL_RATE}}&nbsp;% &nbsp;&nbsp;&nbsp;{{FINAL_FEE}}&nbsp;元</b>
                <b v-else class="default">请选择</b>
  							<i class="icon iconfont icon-enter"></i>
              </span>
          </li>



          <li>
              <b>合同总计</b>
              <span><b>{{LEASE_TOPRIC}}</b>&nbsp;元</span>
          </li>
          <li>
              <b>首期款</b>
              <span><b>{{totleFirstM}}</b>&nbsp;元</span>
          </li>
          <li>
              <b>每期租金</b>
              <span><b>{{MONTH_PRICE}}</b>&nbsp;元</span>
          </li>
          <li>
              <b>期数</b>
              <span><b>{{term}}</b>&nbsp;期</span>
          </li>
				</ul>
      </div>
			<div class="um-footer" id="footer">
				<!-- 选择报价方案 -->
				<mt-popup v-model="pickerFlagStatus" class="pickerPrice"  position='bottom' >
					<mt-picker value-key="schemeName" :slots="pickerFlagList" @change="pickerFlagChange"></mt-picker>
					<p><span class="fl" @click="pickerFlag(false,false)">取消</span><span class="fr" @click="pickerFlag(false,true)">确定</span></p>
				</mt-popup>
        <!-- 首付款 -->
				<mt-popup v-model="firstPayStatu" class="firstPayCont" position="bottom">
					<ul v-if="moneyToRate">
						<li class="input">
							<b>首付比例</b>
							<span><input type="text"  @input="toMoneyToRate('firstPay',true)" placeholder='请输入百分比' name="hirePct" v-model.trim="firstPayRate">&nbsp;%</span>
						</li>
						<li class="alertLi">当前为百分比计算，<button @click="moneyToRateStatus">改为金额计算</button></li>
						<li class="input">
							<b>首付款</b>
							<span>
								<b v-if="firstPay !==''">{{firstPay}}</b>
								<b v-else class="default">自动计算</b>&nbsp;元
							</span>
						</li>
					</ul>
					<ul v-else>
						<li class="input">
							<b>首付款</b>
							<span><input type="text" @input="toMoneyToRate('firstPay',false)" placeholder="请输入您的金额" name="firstPay" v-model.trim="firstPay">&nbsp;元</span>
						</li>
						<li class="alertLi">当前为金额计算，<button @click="moneyToRateStatus">改为百分比计算</button></li>
						<li>
							<b>首付比例</b>
							<span> <b v-if="firstPayRate !==''">{{firstPayRate}}</b>
							<b v-else class="default">自动计算</b>&nbsp;%</span>
						</li>
					</ul>
					<p><span class="fl" @click="sureFristPay">取消</span><span class="fr" @click="sureFristPay('confirm')">确定</span></p>
				</mt-popup>
        <!-- 保证金 -->
				<mt-popup v-model="bailMoneyStatu" class="firstPayCont" position="bottom">
					<ul v-if="moneyToRate">
						<li class="input">
							<b>保证金比例</b>
							<span><input type="text"  @input="toMoneyToRate('bailMoney',true)" placeholder='请输入百分比' name="bailRate" v-model.trim="bailRate">&nbsp;%</span>
						</li>
						<li class="alertLi">当前为百分比计算，<button @click="moneyToRateStatus">改为金额计算</button></li>
						<li class="input">
							<b>保证金</b>
							<span>
								<b v-if="bailMoney !==''">{{bailMoney}}</b>
								<b v-else class="default">自动计算</b>&nbsp;元
							</span>
						</li>
					</ul>
					<ul v-else>
						<li class="input">
							<b>保证金</b>
							<span><input type="text" @input="toMoneyToRate('bailMoney',false)" placeholder="请输入您的金额" name="bailMoney" v-model.trim="bailMoney">&nbsp;元</span>
						</li>
						<li class="alertLi">当前为金额计算，<button @click="moneyToRateStatus">改为百分比计算</button></li>
						<li>
							<b>保证金比例</b>
							<span> <b v-if="bailRate !==''">{{bailRate}}</b>
							<b v-else class="default">自动计算</b>&nbsp;%</span>
						</li>
					</ul>
					<p><span class="fl" @click="sureBailMoney">取消</span><span class="fr" @click="sureBailMoney('confirm')">确定</span></p>
				</mt-popup>
        <!-- 尾款 -->
        <mt-popup v-model="finalPayStatu" class="firstPayCont" position="bottom">
          <ul v-if="moneyToRate">
            <li class="input">
              <b>尾款比例</b>
              <span><input type="text"  @input="toMoneyToRate('finalMoney',true)" placeholder='请输入百分比' name="finalMoney" v-model.trim="finalRate">&nbsp;%</span>
            </li>
            <li class="alertLi">当前为百分比计算，<button @click="moneyToRateStatus">改为金额计算</button></li>
            <li class="input">
              <b>尾款</b>
              <span>
                <b v-if="finalMoney !==''">{{finalMoney}}</b>
                <b v-else class="default">自动计算</b>&nbsp;元
              </span>
            </li>
          </ul>
          <ul v-else>
            <li class="input">
              <b>尾款</b>
              <span><input type="text" @input="toMoneyToRate('finalMoney',false)" placeholder="请输入您的金额" name="finalpay" v-model.trim="finalMoney">&nbsp;元</span>
            </li>
            <li class="alertLi">当前为金额计算，<button @click="moneyToRateStatus">改为百分比计算</button></li>
            <li>
              <b>尾款比例</b>
              <span> <b v-if="finalRate!==''">{{finalRate}}</b>
              <b v-else class="default">自动计算</b>&nbsp;%</span>
            </li>
          </ul>
          <p><span class="fl" @click="sureFinalPay">取消</span><span class="fr" @click="sureFinalPay('confirm')">确定</span></p>
        </mt-popup>
        <!-- 手续费 -->
        <mt-popup v-model="sxMoneyStatu" class="firstPayCont" position="bottom">
          <ul v-if="moneyToRate">
            <li class="input">
              <b>手续费比例</b>
              <span><input type="text"  @input="toMoneyToRate('sxMoney',true)" placeholder='请输入百分比' name="sxMoney" v-model.trim="sxRate">&nbsp;%</span>
            </li>
            <li class="alertLi">当前为百分比计算，<button @click="moneyToRateStatus">改为金额计算</button></li>
            <li class="input">
              <b>手续费</b>
              <span>
                <b v-if="sxMoney !==''">{{sxMoney}}</b>
                <b v-else class="default">自动计算</b>&nbsp;元
              </span>
            </li>
          </ul>
          <ul v-else>
            <li class="input">
              <b>手续费</b>
              <span><input type="text" @input="toMoneyToRate('sxMoney',false)" placeholder="请输入您的金额" name="sxMoney" v-model.trim="sxMoney">&nbsp;元</span>
            </li>
            <li class="alertLi">当前为金额计算，<button @click="moneyToRateStatus">改为百分比计算</button></li>
            <li>
              <b>手续费比例</b>
              <span> <b v-if="sxRate!==''">{{sxRate}}</b>
              <b v-else class="default">自动计算</b>&nbsp;%</span>
            </li>
          </ul>
          <p><span class="fl" @click="sureSxMoney">取消</span><span class="fr" @click="sureSxMoney('confirm')">确定</span></p>
        </mt-popup>

				<div class="bButton" v-show="!pickerFlagStatus && !finalPayStatu && !firstPayStatu && !sxMoneyStatu && !bailMoneyStatu">
					<button @click="quotedTest">测算</button>
				</div>
			</div>
    </div>
		<script>
			summerready=function(){
				quotedVue.prjId=summer.pageParam.id;
				quotedVue.getData();
			}
			$(function(){$('body').height($('body')[0].clientHeight);});
			var quotedVue=new Vue({
				el:'#quotedPriceDetail',
				data:function(){
					return {
						prjId:'',
						SCHEME_TYPE:'', //方案类型
						scheme_type_list:[],
						SCHEME_NAME:'', //方案名称
						SCHEME_NAME_ID:'',
						scheme_name_list:[],

						pickingObj:{},  //选中的字典对象
						currentName:'', //当前选中的字段
						pickerFlagStatus:false, //选择弹窗状态
						pickerFlagList:[{
							flex: 1,
							values: [],
							defaultIndex:0,
							className: 'slot1',
							textAlign: 'center'
						}],
						LEASE_COURSE:'', //租赁周期
						LEASE_COURSE_ID:'',
						lease_course_status:'',
						lease_course_list:[],

						LEASE_TERM:'', //租赁期数
						lease_term_status:'',
            lease_term_edit:0,
						lease_term_limit:{  //限制条件对象
							LIMIT_FLAG:'',    //1是 0否限制
							LIMIT_VALUE_D:'',  //最小值
							LIMIT_VALUE_U:''  //最大值
						},
						YEAR_LIMIT:'', // 年限

						LLPZ:'', //利率配置
						LLPZ_ID:'',
						llpz_status:'',
						llpz_edit:'',
						llpz_list:[],
						YEAR_INTEREST:'', //利率

						PAY_WAY:'',
						PAY_WAY_ID:'',
						pay_way_status:'',
						pay_way_list:[],

            TX:'', //有无贴息
            TX_ID:'',
            tx_list:[],
            TX_M:'',  //贴息金额
            tx_m_edit:0,
						tx_m_limit:{  //限制条件对象
							LIMIT_FLAG:'',    //1是 0否限制
							LIMIT_VALUE_D:'',  //最小值
							LIMIT_VALUE_U:''  //最大值
						},
						RPZSF:'', //融牌照收费
						RPZSF_ID:'',
						rpzsf_status:'',
						rpzsf_edit:'',
						rpzsf_list:[],
						SFXYZB:'', //牌照指标
						SFXYZB_ID:'',
						fxyzb_status:'',
						sfxyzb_list:[],
						BXNX:'',  // 保险年限
						BXNX_ID:'',
						bxnx_list:'',
						CCSNX:'', //车船税年限
						CCSNX_ID:'',
						ccsnx_list:'',
						FKGZ:'', //放款方式
						FKGZ_ID:'',
						fkgz_status:'',
						fkgz_edit:'',
						fkgz_list:[],
						TQGH:'', //提前过户
						TQGH_ID:'',
						tqgh_status:'',
						tqgh_list:[],
						GHTIME:'',  // 过户期数
						ghtime_edit:'',
						QMCLFS:'',  //期满处理方式
						QMCLFS_ID:'',
						qmclfs_status:'',
						qmclfs_edit:'',
						qmclfs_list:[],
						GPSAZ:'', //GPS安装
						GPSAZ_ID:'',
						gpsaz_status:'',
						gpsaz_edit:'',
						gpsaz_list:[],
						SFLYS:'', //是否留钥匙
						SFLYS_ID:'',
						sflys_list:'',
						EQU_MONEY_ALL:'10000', //设备总价值=车辆单价 =实际成交价
						LEASE_TOPRIC:'10000', //合同总计 =实际成交价+计入融资额其他费用
						otherMoney:0, //计入融资额其他费用
            HEAD_HIRE:'',//首付款 首付款比例*合同总计
						HIRE_PERCENT:'', //首付款比例
						firstPay:'', //输入中尚未确认的首付款
						firstPayRate:'', //输入中尚未确认的首付款比例
						firstPayStatu:false, //首付款弹窗
						moneyToRate:true, //通过比例算金额 or 通过金额算比例
						first_pay_edit:'',
						first_pay_limit:{
							LIMIT_FLAG:'',    //1是 0否限制
							LIMIT_VALUE_D:'',  //最小值
							LIMIT_VALUE_U:''  //最大值
						},
						TOPRIC_SUBFIRENT:'',// 融资额 =合同总计-首付款
						LEASE_BAIL:'', //保证金 =保证金比例*融资额
						BAIL_PERCENT:'', //保证金比例
						bailMoney:'',
						bailRate:'',
						bail_money_edit:'',
						bailMoneyStatu:false,
						BZJCLFS:'', //保证金处理方式
						BZJCLFS_ID:'',
						bzjclfs_status:'',
						bzjclfs_edit:'',
						bzjclfs_list:[],
						SXF:'',//手续费 =手续费比例*融资额
						SXF_RATE:'', //手续费比例
						sxMoney:'',
						sxRate:'',
						sxMoneyStatu:false,
						FINAL_FEE:'',//尾款 =合同总计*尾款比例
						FINAL_RATE:'', //尾款比例
						finalMoney:'',
						finalRate:'',
						finalPayStatu:false,
						final_money_edit:'',
						final_money_limit:{
							LIMIT_FLAG:'',    //1是 0否限制
							LIMIT_VALUE_D:'',  //最小值
							LIMIT_VALUE_U:''  //最大值
						},
						totleFirstM:'', //测算返回首期款
						MONTH_PRICE:'', //测算返回每期租金
						term:'', //测算返回期数




					}
				},
				watch:{
          otherMoney:function(){
            this.initData()
          }
        },
				methods: {
					initData:function(){
						this.LEASE_TOPRIC=parseInt(this.EQU_MONEY_ALL+this.otherMoney) //合同总计
						this.HEAD_HIRE=parseInt(this.LEASE_TOPRIC*this.HIRE_PERCENT*0.01) //首付款
						this.TOPRIC_SUBFIRENT=parseInt(this.LEASE_TOPRIC-(this.HEAD_HIRE || 0))//融资额
						this.LEASE_BAIL=parseInt(this.TOPRIC_SUBFIRENT*this.BAIL_PERCENT*0.01)//保证金
						this.SXF=parseInt(this.TOPRIC_SUBFIRENT*this.SXF_RATE*0.01) //手续费
						this.FINAL_FEE=parseInt(this.TOPRIC_SUBFIRENT*this.FINAL_RATE*0.01)//保证金
					},
					getData:function(){
						console.log("prjId==>"+this.prjId);
						var _this=this
						if(this.prjId){ //是报价
							summer.showProgress();
							ajaxRequest({
								type:'POST',
								url:"offer/toProjectScheme",
								param:{PROJECT_ID:_this.prjId}
							},function(res){
								console.log("res",JSON.stringify(res));
								var data=res.data.datas
								_this.scheme_type_list=data.POLICY_TYPES //方案类型字典
								_this.lease_course_list=data.LEASE_COURSES  //租赁周期
								_this.llpz_list=data.LLPZS  //利率配置字典
								_this.pay_way_list=data.PAY_WAYS
								_this.tx_list=data.PREMIUMSS  //贴息
								_this.rpzsf_list=data.RPZSFS //融牌照收费
								_this.sfxyzb_list=data.SFXYZBS  //牌照指标
								_this.bxnx_list=data.BXNXS  //保险年限
								_this.ccsnx_list=data.CCSNXS   //车船税年限
								_this.fkgz_list=data.FKGZS    //放款方式
								_this.tqgh_list=data.TQGHS    //提前过户
								_this.qmclfs_list=data.QMCLFSS //期满处理方式
								_this.gpsaz_list=data.GPSAZS  //GPS安装
								_this.gpsaz_list=data.SFLYSS //是否留钥匙
								_this.bzjclfs_list=data.BZJCLFSS //是否留钥匙

								_this.EQU_MONEY_ALL=res.data.EQU_MONEY_ALL
								var projectData=res.data.datas.project
								if(projectData){
									_this.SCHEME_NAME=projectData.SCHEME_NAME
                  _this.SCHEME_NAME_ID=projectData.SCHEME_ID
                  _this.LEASE_TERM=projectData.LEASE_TERM
                  _this.LEASE_COURSE=projectData.NULL
                  _this.LEASE_COURSE_ID=projectData.LEASE_COURSE
									// 计算年限
									if(this.LEASE_TERM&&this.LEASE_COURSE_ID){
										this.YEAR_LIMIT=(this.LEASE_TERM*LEASE_COURSE_ID/12).toFixed(2)
									}else {
										this.YEAR_LIMIT=''
									}
                  _this.LLPZ =projectData.LLPZ
									_this.LLPZ_ID=projectData.NULL
									_this.YEAR_INTEREST = projectData.NULL
                  _this.PAY_WAY=projectData.NULL
                  _this.PAY_WAY_ID=projectData.PAY_WAY
									_this.TX=projectData.NULL
									_this.TX_ID=projectData.PREMIUMS
									_this.TX_M =projectData.PREMIUMS_M
									_this.RPZSF=projectData.NULL
									_this.RPZSF_ID=projectData.NULL
									_this.SFXYZB = projectData.NULL
									_this.SFXYZB_ID = projectData.SFXYZB
									_this.BXNX = projectData.NULL
									_this.BXNX_ID = projectData.BXNX
									_this.CCSNX = projectData.NULL
									_this.CCSNX_ID = projectData.CCSNX
									_this.FKGZ = projectData.NULL
									_this.FKGZ_ID = projectData.FKGZ
									_this.TQGH = projectData.NULL
									_this.TQGH_ID=projectData.TQGH
									_this.GHTIME =projectData.NULL
									_this.QMCLFS =projectData.NULL
									_this.QMCLFS_ID =projectData.QMCLFS
									_this.GPSAZ=projectData.NULL
									_this.GPSAZ_ID=projectData.GPSAZ
									_this.SFLYS=projectData.NULL
									_this.SFLYS_ID=projectData.SFLYS
									_this.otherMoney=projectData.NULL //其他费用 计算合同总计
									_this.HIRE_PERCENT= projectData.NULL  //首付款比例
									_this.FINAL_RATE= projectData.NULL  //尾款比例
									_this.SXF_RATE= projectData.NULL  //手续费比例
									_this.BAIL_PERCENT= projectData.NULL  //保证金比例
									_this.BZJCLFS=projectData.NULL  //保证金处理方式
									_this.BZJCLFS_ID=project.BZJCLFS
									_this.totleFirstM:projectData.NULL //测算返回首期款
									_this.MONTH_PRICE:projectData.NULL //测返每期租金
									_this.term:projectData.NULL //测算返回期数

									_this.initData()
								}
								summer.hideProgress()
							},function(err){
								console.log("err",JSON.stringify(err))
								summer.hideProgress()
							})
						}
					},
					pickerFlagChange:function(picker,values){
						this.pickingObj=values[0]
					},
					pickerFlag(val,status){
						console.log(val,status,this.currentName,JSON.stringify(this.pickingObj))
						if(!status){  // 打开/取消
							if(val=='schemeType'){
								this.pickerFlagList[0].values=this.scheme_type_list
							}else if(val=='schemeName'){
								if(!this.SCHEME_TYPE){
									summer.toast({msg:'请先选择商务类型'})
									return
								}
								this.pickerFlagList[0].values=this.scheme_name_list
							}else if(val=='leaseCourse'){
								this.pickerFlagList[0].values=this.lease_course_list
							}else if(val=='llpz'){
								this.pickerFlagList[0].values=this.llpz_list
							}else if(val=='payWay'){
								this.pickerFlagList[0].values=this.pay_way_list
							}else if(val=='tx'){
								this.pickerFlagList[0].values=this.tx_list
							}else if(val=='rpzsf'){
								this.pickerFlagList[0].values=this.rpzsf_list
							}else if(val=='sfxyzb'){
								this.pickerFlagList[0].values=this.sfxyzb_list
							}else if(val=='bxnx'){
								this.pickerFlagList[0].values=this.bxnx_list
							}else if(val=='ccsnx'){
								this.pickerFlagList[0].values=this.ccsnx_list
							}else if(val=='fkgz'){
								this.pickerFlagList[0].values=this.fkgz_list
							}else if(val=='tqgh'){
								this.pickerFlagList[0].values=this.tqgh_list
							}else if(val=='qmclfs'){
								this.pickerFlagList[0].values=this.qmclfs_list
							}else if(val=='gpsaz'){
								this.pickerFlagList[0].values=this.gpsaz_list
							}else if(val=='sflys'){
								this.pickerFlagList[0].values=this.sflys_list
							}else if(val=='bzjclfs'){
								this.pickerFlagList[0].values=this.bzjclfs_list
							}

							this.currentName=val
						}else{  // 确认选中
							this.isTest=false
							if(this.currentName=='schemeType'){
								this.SCHEME_TYPE=this.pickingObj.FLAG
								var _this=this
								summer.showProgress();
								ajaxRequest({
									type:'POST',
									url:"offer/toProjectScheme",
									param:{
										PROJECT_ID:_this.prjId,
										POLICY_TYPE:_this.SCHEME_TYPE
									}
								},function(res){
									console.log("res",JSON.stringify(res));
									_this.scheme_name_list=res.data.datas.SCHEME_LIST //方案类型字典
									summer.hideProgress()
								},function(err){
									console.log("err",JSON.stringify(err))
									summer.hideProgress()
								})
							}else if(this.currentName=='schemeName'){
								this.isTest=false  // 需要重新测算
								this.SCHEME_NAME=this.pickingObj.FLAG
								this.SCHEME_NAME_ID=this.pickingObj.CODE
								this.checkDate()
							}else if(this.currentName=='leaseCourse'){
								this.LEASE_COURSE=this.pickingObj.FLAG
								this.LEASE_COURSE_ID=this.pickingObj.CODE
								// 计算年限
								if(this.LEASE_TERM&&this.LEASE_COURSE_ID){
									this.YEAR_LIMIT=(this.LEASE_TERM*LEASE_COURSE_ID/12).toFixed(2)
								}else {
									this.YEAR_LIMIT=''
								}
							}else if(this.currentName=='llpz'){
								this.LLPZ=this.pickingObj.FLAG
								this.LLPZ_ID=this.pickingObj.CODE
							}else if(this.currentName=='payWay'){
								this.PAY_WAY=this.pickingObj.FLAG
								this.PAY_WAY_ID=this.pickingObj.CODE
							}else if(this.currentName=='tx'){
								this.TX=this.pickingObj.FLAG
								this.TX_ID=this.pickingObj.CODE
							}else if(this.currentName=='rpzsf'){
								this.RPZSF=this.pickingObj.FLAG
								this.RPZSF_ID=this.pickingObj.CODE
							}else if(this.currentName=='sfxyzb'){
								this.SFXYZB=this.pickingObj.FLAG
								this.SFXYZB_ID=this.pickingObj.CODE
							}else if(this.currentName=='bxnx'){
								this.BXNX=this.pickingObj.FLAG
								this.BXNX_ID=this.pickingObj.CODE
							}else if(this.currentName=='ccsnx'){
								this.CCSNX=this.pickingObj.FLAG
								this.CCSNX_ID=this.pickingObj.CODE
							}else if(this.currentName=='fkgz'){
								this.FKGZ=this.pickingObj.FLAG
								this.FKGZ_ID=this.pickingObj.CODE
							}else if(this.currentName=='tqgh'){
								this.TQGH=this.pickingObj.FLAG
								this.TQGH_ID=this.pickingObj.CODE
							}else if(this.currentName=='qmclfs'){
								this.QMCLFS=this.pickingObj.FLAG
								this.QMCLFS_ID=this.pickingObj.CODE
							}else if(this.currentName=='gpsaz'){
								this.GPSAZ=this.pickingObj.FLAG
								this.GPSAZ_ID=this.pickingObj.CODE
							}else if(this.currentName=='sflys'){
								this.SFLYS=this.pickingObj.FLAG
								this.SFLYS_ID=this.pickingObj.CODE
							}else if(this.currentName=='bzjclfs'){
								this.BZJCLFS=this.pickingObj.FLAG
								this.BZJCLFS_ID=this.pickingObj.CODE
							}

						}
						this.pickerFlagStatus=!this.pickerFlagStatus
					},
					checkDate:function(){
						var _this=this;
						summer.showProgress();
						console.log("schemeCode======>"+_this.SCHEME_NAME_ID);
						ajaxRequest({
							type:'POST',
							url:'offer/getPolicyScheme',
							param:{SCHEME_CODE:_this.SCHEME_NAME_ID}
						},function(res){
							console.log("res",JSON.stringify(res));
							// 重新获取初始化的字典 start
							var data=res.data.datas
							_this.scheme_type_list=data.POLICY_TYPES //方案类型字典


							//重新获取初始化的字典 over
							var arr=res.data.datas.SCHEME
							for(var i=0;i<arr.length;i++){
								if(arr[i].KEY_NAME_EN=='ZLZQ'){
									// _this.LEASE_COURSE=arr[i].VALUE_STR
									_this.lease_course_status=arr[i].VALUE_STR
								}else if(arr[i].KEY_NAME_EN=='ZLQS'){
									_this.LEASE_TERM=arr[i].VALUE_STR
									_this.lease_term_status=arr[i].VALUE_STR
									_this.lease_term_edit=arr[i].VALUE_STATUS
									_this.lease_term_limit.LIMIT_FLAG=arr[i].LIMIT_FLAG
									_this.lease_term_limit.LIMIT_VALUE_D=arr[i].LIMIT_VALUE_D
									_this.lease_term_limit.LIMIT_VALUE_U=arr[i].LIMIT_VALUE_U
									_this.checkVal('lease_term')
								}else if(arr[i].KEY_NAME_EN=='LLPZ'){
									// _this.LLPZ=arr[i].VALUE_STR
									_this.llpz_status=arr[i].VALUE_STR
									_this.llpz_edit=arr[i].VALUE_STATUS
								}else if(arr[i].KEY_NAME_EN=='ZFFS'){
									// _this.PAY_WAY=arr[i].VALUE_STR
									_this.pay_way_status=arr[i].VALUE_STR
								}else if(arr[i].KEY_NAME_EN=='RPZSF'){
									// _this.RPZSF=arr[i].VALUE_STR
									_this.rpzsf_status=arr[i].VALUE_STR
									_this.rpzsf_edit=arr[i].VALUE_STATUS
								}else if(arr[i].KEY_NAME_EN=='sfxyzb'){
									// _this.SFXYZB=arr[i].VALUE_STR
									_this.fxyzb_status=arr[i].VALUE_STR
								}else if(arr[i].KEY_NAME_EN=='tx_m'){
									_this.TX_M=arr[i].VALUE_STR
									_this.tx_m_edit=arr[i].VALUE_STATUS
									_this.tx_m_limit.LIMIT_FLAG=arr[i].LIMIT_FLAG
									_this.tx_m_limit.LIMIT_VALUE_D=arr[i].LIMIT_VALUE_D
									_this.tx_m_limit.LIMIT_VALUE_U=arr[i].LIMIT_VALUE_U
								}else if(arr[i].KEY_NAME_EN=='FKGZ'){
									_this.fkgz_status=arr[i].VALUE_STR
									_this.fkgz_edit=arr[i].VALUE_STATUS
								}else if(arr[i].KEY_NAME_EN=='TQGH'){
									_this.tqgh_status=arr[i].VALUE_STR
								}else if(arr[i].KEY_NAME_EN=='GHTIME'){
									_this.GHTIME=arr[i].VALUE_STR || 0
									_this.ghtime_edit=arr[i].VALUE_STATUS
								}else if(arr[i].KEY_NAME_EN=='QMCLFS'){
									_this.qmclfs_status=arr[i].VALUE_STR
									_this.qmclfs_edit=arr[i].VALUE_STATUS
								}else if(arr[i].KEY_NAME_EN=='GPSAZ'){
									_this.gpsaz_status=arr[i].VALUE_STR
									_this.gpsaz_edit=arr[i].VALUE_STATUS
								}else if(arr[i].KEY_NAME_EN=='START_PERCENT'){
									_this.HIRE_PERCENT=arr[i].VALUE_STR
									_this.first_pay_edit=arr[i].VALUE_STATUS
									_this.first_pay_limit.LIMIT_FLAG=arr[i].LIMIT_FLAG
									_this.first_pay_limit.LIMIT_VALUE_D=arr[i].LIMIT_VALUE_D
									_this.first_pay_limit.LIMIT_VALUE_U=arr[i].LIMIT_VALUE_U
									this.HEAD_HIRE=parseInt(this.LEASE_TOPRIC*this.HIRE_PERCENT*0.01)//首付款
								}else if(arr[i].KEY_NAME_EN=='WKBL_PERCENT'){
									_this.final_money_edit=arr[i].VALUE_STATUS
									_this.final_money_limit.LIMIT_FLAG=arr[i].LIMIT_FLAG
									_this.final_money_limit.LIMIT_VALUE_D=arr[i].LIMIT_VALUE_D
									_this.final_money_limit.LIMIT_VALUE_U=arr[i].LIMIT_VALUE_U
								}else if(arr[i].KEY_NAME_EN=='BZJBL_PERCENT'){
									_this.BAIL_PERCENT=arr[i].VALUE_STR
									_this.bail_money_edit=arr[i].VALUE_STATUS
									this.LEASE_BAIL=parseInt(this.LEASE_TOPRIC*this.BAIL_PERCENT*0.01)//保证金
								}else if(arr[i].KEY_NAME_EN=='BZJCLFS'){
									_this.bzjclfs_status=arr[i].VALUE_STR
									_this.bzjclfs_edit=arr[i].VALUE_STATUS
								}



							}

							summer.hideProgress()
						},function(err){
							console.log("err",err);
							summer.hideProgress()
						})
					},
					checkVal(val){
						if(val=='lease_term'){
							if(!this.checkIntNmber(this.LEASE_TERM)){
								this.LEASE_TERM=''
							}
							if(this.lease_term_limit.LIMIT_FLAG=='1'){
								if(this.LEASE_TERM<this.lease_term_limit.LIMIT_VALUE_D || this.LEASE_TERM>this.lease_term_limit.LIMIT_VALUE_U){
									summer.toast({msg:'租赁期数值超出范围'})
									this.LEASE_TERM=''
								}
							}
							if(this.LEASE_TERM&&this.LEASE_COURSE_ID){
								this.YEAR_LIMIT=(this.LEASE_TERM*LEASE_COURSE_ID/12).toFixed(2)
							}else {
								this.YEAR_LIMIT=''
							}
						}else if(val=='tx_m'){
							if(!this.checkFloatNmber(this.TX_M)){
								this.TX_M=''
							}
							if(this.tx_m_limit.LIMIT_FLAG=='1'){
								if(this.TX_M<this.tx_m_limit.LIMIT_VALUE_D || this.TX_M>this.tx_m_limit.LIMIT_VALUE_U){
									summer.toast({msg:'贴息金额超出范围'})
									this.TX_M=''
								}
							}
						}else if(val=='ghtime'){
							if(!this.checkIntNmber(this.GHTIME)){this.GHTIME=''}
						}else if(val=='yearRate'){
							if(!this.checkIntNmber(this.YEAR_INTEREST)){this.YEAR_INTEREST=''}
						}


					},
					sureFristPay:function(value){
						if(!this.EQU_MONEY_ALL){
							summer.toast({msg:'请先填写实际成交价'});
							return;
						}
						if(value=='confirm'){
							this.isTest=false
							this.HEAD_HIRE=this.firstPay
							this.HIRE_PERCENT=this.firstPayRate
							this.TOPRIC_SUBFIRENT=parseInt(this.LEASE_TOPRIC-(this.HEAD_HIRE || 0))//融资额
							this.LEASE_BAIL=parseInt(this.TOPRIC_SUBFIRENT*this.BAIL_PERCENT*0.01)//保证金
							this.SXF=parseInt(this.TOPRIC_SUBFIRENT*this.SXF_RATE*0.01) //手续费
							this.FINAL_FEE=parseInt(this.TOPRIC_SUBFIRENT*this.FINAL_RATE*0.01)//尾款
						}else{
							this.firstPay = this.HEAD_HIRE
							this.firstPayRate = this.HIRE_PERCENT
							this.moneyToRate=true  //公用状态 点开默认输入比例
						}
						this.firstPayStatu=!this.firstPayStatu
					},
					sureFinalPay:function(value){
						if(value=='confirm'){
							this.isTest=false
							this.FINAL_FEE=this.finalMoney
							this.FINAL_RATE=this.finalRate
						}else{
							this.finalMoney=this.FINAL_FEE
							this.finalRate=this.FINAL_RATE
							this.moneyToRate=true  //公用状态 点开默认输入比例
						}
						this.finalPayStatu=!this.finalPayStatu
					},
					sureSxMoney(value){
						if(this.HEAD_HIRE===''){
							summer.toast({msg:'请先填写首付款'});
							return;
						}
						if(value=='confirm'){
							this.isTest=false
							this.SXF=this.sxMoney
							this.SXF_RATE=this.sxRate
						}else{
							this.sxMoney=this.SXF
							this.sxRate=this.SXF_RATE
							this.moneyToRate=true  //公用状态 点开默认输入比例
						}
						this.sxMoneyStatu=!this.sxMoneyStatu
					},
					sureBailMoney(value){
						if(this.HEAD_HIRE===''){
							summer.toast({msg:'请先填写首付款'});
							return;
						}
						if(value=='confirm'){
							this.isTest=false
							this.LEASE_BAIL=this.bailMoney
							this.BAIL_PERCENT=this.bailRate
						}else{
							this.bailMoney=this.LEASE_BAIL
							this.bailRate=this.BAIL_PERCENT
							this.moneyToRate=true  //公用状态 点开默认输入比例
						}
						this.bailMoneyStatu=!this.bailMoneyStatu
					},
					moneyToRateStatus:function(){
						this.moneyToRate=!this.moneyToRate
					},
					toMoneyToRate:function(val,status){
						console.log(val,status)
						if(val == 'firstPay'){
							if(status){  // status=true比例改变 计算金额
								if(this.firstPayRate<100 && this.checkFloatNmber(this.firstPayRate)){
									if(this.first_pay_limit.LIMIT_FLAG=='1'){
										if(this.firstPayRate<this.first_pay_limit.LIMIT_VALUE_D || this.firstPayRate>this.first_pay_limit.LIMIT_VALUE_U){
											this.firstPayRate=''
										}
									}
									if(!this.firstPayRate){this.firstPay=''}else {
										this.firstPay=parseInt(this.firstPayRate*this.LEASE_TOPRIC*0.01)
									}
								}else {
									this.firstPayRate=''
									this.firstPay=''
								}
							}else { // status=false  金额改变 计算比例
								var money=this.firstPay
								if(this.checkIntNmber(money) && money<this.LEASE_TOPRIC){
									this.firstPayRate=parseFloat(100*this.firstPay/this.LEASE_TOPRIC).toFixed(2);
								}else {
									this.firstPay=''
									this.firstPayRate=''
									summer.toast({msg:'首付款不能大于合同总额且为整数'})
								}
							}
						}else if(val== 'finalMoney'){
							if(status){
								if(this.finalRate<100&&this.checkFloatNmber(this.finalRate)){
									if(this.final_money_limit.LIMIT_FLAG=='1'){
										if(this.finalRate<this.final_money_limit.LIMIT_VALUE_D || this.finalRate>this.final_money_limit.LIMIT_VALUE_U){
											this.finalRate=''
										}
									}
									if(this.finalRate==''){this.finalMoney=''}else {
										this.finalMoney=parseInt(this.finalRate*this.LEASE_TOPRIC*0.01)
									}
								}else {
									this.finalRate=''
									this.finalMoney=''
								}
							}else {
								if(this.checkIntNmber(this.finalMoney) && this.finalMoney<this.LEASE_TOPRIC){
									this.finalRate=parseFloat(100*this.finalMoney/this.LEASE_TOPRIC).toFixed(2);
								}else {
									this.finalMoney=''
									this.finalRate=''
									summer.toast({msg:'尾款不能大于合同总额且为整数'})
								}
							}
						}else if(val == 'sxMoney'){
							if(status){
								if(this.sxRate<100 && this.checkFloatNmber(this.sxRate)){
									if(!this.sxRate){this.sxMoney=''}else {
										this.sxMoney=parseInt(this.sxRate*this.TOPRIC_SUBFIRENT*0.01)
									}
								}else {
									this.sxMoney=''
									this.sxRate=''
								}
							}else {
								if(this.checkIntNmber(this.sxMoney)&&this.sxMoney<this.TOPRIC_SUBFIRENT){
									this.sxRate=parseFloat(100*this.sxMoney/this.TOPRIC_SUBFIRENT).toFixed(2);
								}else {
									this.sxMoney=''
									this.sxRate=''
									summer.toast({msg:'手续费不能大于融资额且为整数'})
								}
							}
						}else if(val == 'bailMoney'){
							if(status){
								if(this.bailRate<100&&this.checkFloatNmber(this.bailRate)){
									if(this.bailRate==''){this.bailMoney=''}else {
										this.bailMoney=parseInt(this.bailRate*this.TOPRIC_SUBFIRENT*0.01)
									}
								}else {
									this.bailMoney=''
									this.bailRate=''
								}
							}else {
								if(this.bailMoney<this.TOPRIC_SUBFIRENT&&this.checkIntNmber(this.bailMoney)){
									this.bailRate=parseFloat(100*this.bailMoney/this.TOPRIC_SUBFIRENT).toFixed(2);
								}else{
									this.bailMoney=''
									this.bailRate=''
									summer.toast({msg:'保证金不能大于融资额且为整数'})
								}
							}
						}
					},
					checkIntNmber(val){
						if(!/^([1-9]\d{0,9}|0)$/.test(val)||val===''||val<0){
							return false
						}else {
							return true
						}
					},
					checkFloatNmber(val){
						if(!/^([1-9]\d{0,9}|0)([.]?|(\.\d{1,2})?)$/.test(val)||val===''||val<0){
							return false
						}else {
							return true
						}
					},
					quotedTest:function(){
						var _this=this
						summer.showProgress();
						var param={

						}
						if(this.TX !='无'){param.PREMIUMS_M=this.TX_M}
						if(this.TQGH !='否'){param.GHTIME=this.GHTIME}
						if(this.prjId){
							params.prjId=this.prjId
						}else {
							params.EQU_MONEY_ALL=this.EQU_MONEY_ALL
						}
						console.log(JSON.stringify(param));
						ajaxRequest({
							type:'POST',
							url:'offer/toPayCalculationTest',
							param:param
						},function(res){
							console.log("res",JSON.stringify(res));
							summer.hideProgress();
							if(res.data.flag=="1"){
								summer.toast({msg:"测算成功"});
								_this.isTest =true
							}else{
								summer.toast({
									msg:res.data.msg
								});
								return;
							}

						},function(err){
							console.log("err",err);
						})
					},
					save:function(){
						var _this=this
						if(!this.isTest){
							summer.toast({msg:'请先测算报价'})
							return
						}
						summer.showProgress();
						var param={
							PROJECT_ID:this.prjId,
							SCHEME_NAME:this.SCHEME_NAME,
							POLICY:this.SCHEME_NAME_ID,
							LEASE_TERM:this.LEASE_TERM,
							LEASE_COURSE:this.LEASE_COURSE_ID,
							LLPZ:this.LLPZ_ID,
							YEAR_INTEREST:this.YEAR_INTEREST,
							PAY_WAY:this.PAY_WAY_ID,
							PREMIUMS:this.TX_ID,
							RPZSF:this.RPZSF_ID,
							QUOTA:this.SFXYZB_ID,
							BXNX:this.BXNX_ID,
							CCSNX:this.CCSNX_ID,
							TQGH:this.TQGH_ID,
							YEAR_INTEREST:this.YEAR_INTEREST,
							TQGH:this.TQGH_ID,
							QMCLFS:this.QMCLFS_ID,
							GPSAZ:this.GPSAZ_ID,
							SFLYS:this.SFLYS,
							EQU_MONEY_ALL:this.EQU_MONEY_ALL,
							LEASE_TOPRIC:this.LEASE_TOPRIC,
							HEAD_HIRE:this.HEAD_HIRE,
							HIRE_PERCENT:this.HIRE_PERCENT,
							FINAL_FEE:this.FINAL_FEE,
							FINAL_RATE:this.FINAL_RATE,
							SXF:this.SXF,
							SXF_RATE:this.SXF_RATE,
							TOPRIC_SUBFIRENT:this.TOPRIC_SUBFIRENT,
							BAIL_PERCENT:this.BAIL_PERCENT,
							BZJCLFS:this.BZJCLFS_ID,


						}
						if(this.TX !='无'){param.PREMIUMS_M=this.TX_M}
						if(this.TQGH !='否'){param.GHTIME=this.GHTIME}
						console.log(JSON.stringify(param));
						ajaxRequest({
							type:'POST',
							url:'offer/saveProjectScheme',
							param:param
						},function(res){
							console.log("res",JSON.stringify(res));
							summer.hideProgress();
							if(res.data.flag=="1"){
								summer.toast({msg:"保存成功"});
								summer.execScript({
									winId: "setProject",
									script: "addRight('price')"
								});
								summer.closeToWin({id:'setProject'})
							}else{
								summer.toast({
									msg:res.data.msg
								});
								return;
							}

						},function(err){
							console.log("err",err);
						})
					}
				}
			})
			function save(){
				quotedVue.save()
			}
		</script>
  </body>
</html>
